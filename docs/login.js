(()=>{async function e(e){console.log(e);let t=await fetch(`https://web2-backend-davidbaekeland.herokuapp.com/icons/${e}`);return await t.text()}window.onload=function(){document.getElementById("login").addEventListener("submit",(t=>{!async function(t){t.preventDefault(),console.log(t);let n={email:document.getElementById("email").value,password:document.getElementById("password").value},o=await async function(e){console.log(e);let t=await fetch("https://web2-backend-davidbaekeland.herokuapp.com/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}(n);console.log(o.question);let a=await e("logout");if(o.err)document.getElementById("wrongInput").innerText=o.err;else{localStorage.setItem("id",o._id),localStorage.setItem("questions",JSON.stringify(o.question)),document.getElementById("login").setAttribute("id","login2"),document.getElementById("account").setAttribute("id","accountActive");let t=`<a id="logout" href="">${a}</a>`;document.getElementsByTagName("nav")[0].insertAdjacentHTML("beforeend",t),async function(t){let n=`<a id="plusQuestion" href="../questions.html">${await e("plus")}</a>`;document.getElementById("addQuestions").insertAdjacentHTML("beforeend",n),t.question.forEach(((e,t)=>{let n="";t%2==0?(console.log(e),n=`<div class="red card">\n            <p>${e}</p>\n            </div>`):n=`<div class="blue card">\n            <p>${e}</p>\n            </div>`,document.getElementById("questions").insertAdjacentHTML("beforeend",n)}))}(o)}}(t)}))}})();
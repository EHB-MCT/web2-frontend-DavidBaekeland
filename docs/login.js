(()=>{async function e(e){console.log(e);let t=await fetch(`https://web2-backend-davidbaekeland.herokuapp.com/icons/${e}`);return await t.text()}async function t(){let t;t=localStorage.getItem("id")?{id:localStorage.getItem("id")}:{email:document.getElementById("email").value,password:document.getElementById("password").value};let n=await async function(e){console.log(e);let t=await fetch("https://web2-backend-davidbaekeland.herokuapp.com/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}(t);console.log(n.question);let o=await e("logout");if(n.err)document.getElementById("wrongInput").innerText=n.err;else{localStorage.setItem("id",n._id),localStorage.setItem("questions",JSON.stringify(n.question)),document.getElementById("login").setAttribute("id","login2"),document.getElementById("account").setAttribute("id","accountActive");let t=`<a id="logout">${o}</a>`;document.getElementsByTagName("nav")[0].insertAdjacentHTML("beforeend",t),async function(t){let n=`<a id="plusQuestion" href="../questions.html">${await e("plus")}</a>`;document.getElementById("addQuestions").insertAdjacentHTML("beforeend",n),document.getElementById("logout").addEventListener("click",(e=>{e.preventDefault(),console.log("d"),localStorage.removeItem("id"),location.href="login.html"})),t.question.forEach(((e,t)=>{let n="";t%2==0?(console.log(e),n=`<div class="red card">\n            <p>${e}</p>\n            </div>`):n=`<div class="blue card">\n            <p>${e}</p>\n            </div>`,document.getElementById("questions").insertAdjacentHTML("beforeend",n)}))}(n)}}window.onload=function(){localStorage.getItem("id")?t():document.getElementById("login").addEventListener("submit",(e=>{e.preventDefault(),t()}))}})();